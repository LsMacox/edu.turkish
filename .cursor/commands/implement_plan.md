# Implement Plan

Ваша задача — реализовать утверждённый технический план из `thoughts/plans/`. Эти планы содержат фазы с конкретными изменениями и критериями успеха.

## Начало работы

Когда вам дан путь к плану:

  - Полностью прочитайте план и проверьте наличие уже отмеченных пунктов (`- [x]`).
  - Прочитайте исходный тикет и все файлы, упомянутые в плане.
  - **Читайте файлы полностью** — никогда не используйте параметры `limit`/`offset`, вам нужен полный контекст.
  - Глубоко продумайте, как все части связаны между собой.
  - Создайте список задач (todo list), чтобы отслеживать свой прогресс.
  - Начинайте реализацию, если вы понимаете, что нужно делать.

Если путь к плану не указан, запросите его.

## Философия реализации

Планы тщательно продуманы, но реальность может быть сложной. Ваша задача:

  - Следовать замыслу плана, адаптируясь к тому, что вы обнаружите.
  - Полностью реализовать каждую фазу, прежде чем переходить к следующей.
  - Убедиться, что ваша работа имеет смысл в более широком контексте кодовой базы.
  - Обновлять отметки в плане по мере завершения разделов.

Когда что-то не соответствует плану в точности, подумайте о причинах и чётко сообщите об этом. План — это ваше руководство, но ваше суждение также имеет значение.

Если вы столкнулись с несоответствием:

  - ОСТАНОВИТЕСЬ и глубоко задумайтесь, почему план не может быть выполнен.

  - Чётко изложите проблему:

    ```
    Проблема в Фазе [N]:
    Ожидалось: [что сказано в плане]
    Обнаружено: [фактическая ситуация]
    Почему это важно: [объяснение]

    Как мне следует поступить?
    ```

## Подход к проверке

После реализации фазы:
  - Выполните проверки по критериям успеха (обычно `make check test` охватывает всё необходимое).
  - Исправьте все проблемы, прежде чем продолжать.
  - Обновите свой прогресс как в плане, так и в вашем списке задач.
  - Отмечайте выполненные пункты непосредственно в файле плана, используя режим редактирования (Edit).

Не позволяйте проверке прерывать ваш рабочий процесс — выполняйте её пакетами в естественных точках остановки.

## Если вы зашли в тупик

Когда что-то работает не так, как ожидалось:
  - Во-первых, убедитесь, что вы прочитали и поняли весь соответствующий код.
  - Подумайте, не изменилась ли кодовая база с момента написания плана.
  - Чётко опишите несоответствие и попросите указаний.

Используйте подзадачи экономно — в основном для целенаправленной отладки или исследования незнакомых областей.

## Возобновление работы

Если в плане уже есть отмеченные пункты:
  - Доверяйте тому, что завершённая работа выполнена.
  - Начинайте с первого неотмеченного пункта.
  - Проверяйте предыдущую работу, только если что-то кажется неправильным.

Помните: вы реализуете решение, а не просто ставите галочки. Держите в уме конечную цель и поддерживайте движение вперёд.