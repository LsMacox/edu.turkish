# I18n и переводы

Проект использует `@nuxtjs/i18n` с файловой структурой `i18n/locales/{lang}/**/*.json`.

## Языки

- `ru`, `en`, `kk` (`kz` как URL-префикс), `tr`
- Языковые файлы перечислены в `nuxt.config.ts` → `i18n.locales[].files`

## Ключи и структура

- Страницы: `i18n/locales/{lang}/pages/*.json`
- Компоненты: `i18n/locales/{lang}/components/*.json`
- Общие ключи: `i18n/locales/{lang}/common.json`, `errors.json`, `nav.json`

Пример блога: `pages/blog.json` → разделы `meta`, `hero`, `categories`, `articles`, `sidebar`.

## Плейсхолдеры и форматирование

- Используйте `{count}` и другие плейсхолдеры, не хардкодьте числа:
  - hero.stats[0].label: `{count} helpful articles`
  - hero.stats[1].label: `{count} answered questions`
- В компонентах подставляйте значения через `t(key, { count })`
- Избегайте встраивания HTML в строки, отдавайте предпочтение чистому тексту

## Динамические метрики

На странице блога значения `{count}` подменяются реальными данными из стора (`totalArticles`, `totalFAQs`).

- При отсутствии данных используйте безопасные дефолты (0 или пустые строки)

## Консистентность ключей

- Держите один и тот же набор ключей во всех локалях
- Если ключ отсутствует — добавьте его в каждую локаль с временным переводом
- Не меняйте форму ключей (camelCase) без необходимости

## Практика разработки

- При добавлении компонента/страницы сначала добавьте ключи в `ru`, затем скопируйте в другие локали
- Для массовых правок используйте `scripts/translate.ts` (см. `docs/scripts/TRANSLATE.md`)
- Проверяйте форматирование: `npm run format:check`

## Отладка

- Включайте `te(key)` для проверки наличия ключей
- Используйте `tm(key)` для ветвистых объектов/массивов
